# Query: wss
# ContextLines: 1

21 results - 3 files

package-lock.json:
   898        "resolved": "https://registry.npmjs.org/@babel/plugin-proposal-private-property-in-object/-/plugin-proposal-private-property-in-object-7.14.5.tgz",
   899:       "integrity": "sha512-62EyfyA3WA0mZiF2e2IV9mc9Ghwxcg8YTu8BS4Wss4Y3PY725OmS9M0qLORbJwLqFtGh+jiE4wAmocK2CTUK2Q==",
   900        "dev": true,

  3865        "resolved": "https://registry.npmjs.org/fs-minipass/-/fs-minipass-1.2.7.tgz",
  3866:       "integrity": "sha512-GWSSJGFy4e9GUeCcbIkED+bgAoFyj7XF1mV8rma3QW4NIqX9Kyx79N/PF61H5udOV3aY1IaMLs6pGbH71nlCTA==",
  3867        "requires": {

  5180        "resolved": "https://registry.npmjs.org/pnp-webpack-plugin/-/pnp-webpack-plugin-1.6.4.tgz",
  5181:       "integrity": "sha512-7Wjy+9E3WwLOEL30D+m8TSTF7qJJUJLONBnwQp0518siuMxUQUbgZwssaFX+QKlZkjHZcw/IpZCt/H0srrntSg==",
  5182        "requires": {

  5226        "resolved": "https://registry.npmjs.org/prop-types/-/prop-types-15.7.2.tgz",
  5227:       "integrity": "sha512-8QQikdH7//R2vurIJSutZ1smHYTcLpRWEOlHnzcWHmBYrOGUysKwSsrC89BCiFj3CbrfJ/nXFdJepOVrY1GCHQ==",
  5228        "requires": {

yarn.lock:
   438    resolved "https://registry.yarnpkg.com/@babel/plugin-proposal-private-property-in-object/-/plugin-proposal-private-property-in-object-7.14.5.tgz#9f65a4d0493a940b4c01f8aa9d3f1894a587f636"
   439:   integrity sha512-62EyfyA3WA0mZiF2e2IV9mc9Ghwxcg8YTu8BS4Wss4Y3PY725OmS9M0qLORbJwLqFtGh+jiE4wAmocK2CTUK2Q==
   440    dependencies:

  3090    resolved "https://registry.yarnpkg.com/fs-minipass/-/fs-minipass-1.2.7.tgz#ccff8570841e7fe4265693da88936c55aed7f7c7"
  3091:   integrity sha512-GWSSJGFy4e9GUeCcbIkED+bgAoFyj7XF1mV8rma3QW4NIqX9Kyx79N/PF61H5udOV3aY1IaMLs6pGbH71nlCTA==
  3092    dependencies:

  4280    resolved "https://registry.yarnpkg.com/pnp-webpack-plugin/-/pnp-webpack-plugin-1.6.4.tgz#c9711ac4dc48a685dabafc86f8b6dd9f8df84149"
  4281:   integrity sha512-7Wjy+9E3WwLOEL30D+m8TSTF7qJJUJLONBnwQp0518siuMxUQUbgZwssaFX+QKlZkjHZcw/IpZCt/H0srrntSg==
  4282    dependencies:

  4321    resolved "https://registry.yarnpkg.com/prop-types/-/prop-types-15.7.2.tgz#52c41e75b8c87e72b9d9360e0206b99dcbffa6c5"
  4322:   integrity sha512-8QQikdH7//R2vurIJSutZ1smHYTcLpRWEOlHnzcWHmBYrOGUysKwSsrC89BCiFj3CbrfJ/nXFdJepOVrY1GCHQ==
  4323    dependencies:

components/WebsocketProvider/index.js:
  14      const url = "wss://firehose.yearn.network";
  15:     const wss = new WebSocket(url);
  16:     wss.connected = false;
  17      store.log(`[Websocket] Connecting to ${url}...`);
  18:     wss.onopen = () => {
  19        store.log("[Websocket] Connected");
  20:       wss.sendMessage(requestSubscriptionTopics);
  21:       wss.connected = true;
  22        store.setWebsocketConnected(true);

  24  
  25:     wss.onmessage = (message) => {
  26        const { data } = message;

  50  
  51:     wss.subscribe = (topic) => {
  52:       wss.sendMessage({
  53          action: "subscribe",

  57  
  58:     wss.unsubscribe = (topic) => {
  59        if (topic == "blockNumber") {

  61        }
  62:       wss.sendMessage({
  63          action: "unsubscribe",

  67  
  68:     wss.sendMessage = (message) => {
  69        message.timestamp = Date.now();

  71        store.websocketLog(jsonMessage);
  72:       wss.send(jsonMessage);
  73      };
  74  
  75:     store.setWebsocket(wss);
  76    };
